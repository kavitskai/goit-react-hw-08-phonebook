(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var r,c,a,i=n(0),o=n.n(i),u=n(30),s=n.n(u),l=n(17),d=n(8),b=n(64),j=(n(79),n(4)),p=n(12),f=(n(42),n(51)),h=function(e){return e.auth.isLoggedIn},O=function(e){return e.auth.user.name},x=function(e){return e.auth.user.email},g=n(3),v=n(5),m=v.a.header(r||(r=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 25px;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #04125e;\n"]))),w=v.a.ul(c||(c=Object(g.a)(["\ndisplay: flex;\nalign-items: center;\n@media screen and (min-width: 320px) {\n    width: 320px;\n    padding: 0 20px;\n  }\n  @media screen and (min-width: 768px) {\n    width: 768px;\n    padding: 0 75px;\n  }\n  @media screen and (min-width: 1024px) {\n    width: 1024px;\n    padding: 0 71px;\n  }\n"]))),y=v.a.li(a||(a=Object(g.a)(["\n&:not(:last-child) {\n    margin-right: 50px;\n  }\n"]))),k=n(2);function z(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(y,{children:Object(k.jsx)(l.b,{to:"/register",className:"navlink",activeClassName:"activelink",children:"Registration"})}),Object(k.jsx)(y,{children:Object(k.jsx)(l.b,{to:"/login",className:"navlink",activeClassName:"activelink",children:"Log in"})})]})}var C=n(66),S=n.n(C);function N(){var e=Object(d.c)(h);return Object(k.jsxs)(w,{children:[Object(k.jsx)(y,{children:Object(k.jsx)(l.b,{exact:!0,to:"/",className:"navlink",activeClassName:"activelogo",children:Object(k.jsx)(S.a,{style:{fontSize:50}})})}),Object(k.jsx)(y,{children:Object(k.jsx)(l.b,{exact:!0,to:"/",className:"navlink",activeClassName:"activelink",children:"Home"})}),e?Object(k.jsx)(y,{children:Object(k.jsx)(l.b,{exact:!0,to:"/contacts",className:"navlink",activeClassName:"activelink",children:"Contacts"})}):Object(k.jsx)(z,{})]})}var L,I,T,V,W,F,R=n(26),Y=v.a.div(L||(L=Object(g.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nwidth: 350px;\nfont-size: 16px;\nfont-weight: 700;\n"]))),A=v.a.div(I||(I=Object(g.a)(["\n"]))),B=v.a.p(T||(T=Object(g.a)(["\n"]))),E=v.a.p(V||(V=Object(g.a)(["\n"]))),J=v.a.img(W||(W=Object(g.a)(["\nwidth: 35px;\nheight: 35px;\nborder-radius: 50%;\nbackground-color: white;\n"]))),H=v.a.button(F||(F=Object(g.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\ncolor: white;\nbackground-color: transparent;\nheight: 40px;\nborder: none;\nfont-weight: 600;\ncursor: pointer;\n"]))),M=n.p+"static/media/default-avatar.30d9bf23.png",U=n(67),q=n.n(U);function D(){var e=Object(d.b)(),t=Object(d.c)(O),n=Object(d.c)(x);return Object(k.jsxs)(Y,{children:[Object(k.jsx)(J,{src:M}),Object(k.jsxs)(A,{children:[Object(k.jsxs)(B,{children:["Welcome, ",t]}),Object(k.jsx)(E,{children:n})]}),Object(k.jsxs)(H,{type:"button",onClick:function(){return e(R.c())},children:[Object(k.jsx)(q.a,{style:{fontSize:40}}),"Log out"]})]})}function G(){var e=Object(d.c)(h);return Object(k.jsxs)(m,{children:[Object(k.jsx)(N,{}),e&&Object(k.jsx)(D,{})]})}var K,P=n(33),Q=n(68),X=n.n(Q),Z=Object(P.css)(K||(K=Object(g.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: blue;\n"])));function $(){return Object(k.jsx)(X.a,{color:"#04125e",loading:Object(i.useState)(!0),css:Z,size:80})}var _=n(32),ee=n(41),te=["children","redirectedTo"];function ne(e){var t=e.children,n=e.redirectedTo,r=void 0===n?"/":n,c=Object(ee.a)(e,te),a=Object(d.c)(h);return Object(k.jsx)(j.b,Object(_.a)(Object(_.a)({},c),{},{children:a?t:Object(k.jsx)(j.a,{to:r})}))}var re=["children","restricted","redirectedTo"];function ce(e){var t=e.children,n=e.restricted,r=void 0!==n&&n,c=e.redirectedTo,a=void 0===c?"/":c,i=Object(ee.a)(e,re),o=Object(d.c)(h)&&r;return Object(k.jsx)(j.b,Object(_.a)(Object(_.a)({},i),{},{children:o?Object(k.jsx)(j.a,{to:a}):t}))}var ae=Object(i.lazy)((function(){return n.e(6).then(n.bind(null,131))})),ie=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,133))})),oe=Object(i.lazy)((function(){return n.e(4).then(n.bind(null,134))})),ue=Object(i.lazy)((function(){return n.e(3).then(n.bind(null,132))}));function se(){var e=Object(d.b)();return Object(i.useEffect)((function(){e(R.a())}),[e]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(G,{}),Object(k.jsx)(f.e,{children:Object(k.jsx)(i.Suspense,{fallback:Object(k.jsx)($,{}),children:Object(k.jsxs)(j.d,{children:[Object(k.jsx)(ce,{exact:!0,path:"/",children:Object(k.jsx)(ae,{})}),Object(k.jsx)(ce,{exact:!0,path:"/register",restricted:!0,redirectedTo:"/",children:Object(k.jsx)(ie,{})}),Object(k.jsx)(ce,{exact:!0,path:"/login",restricted:!0,redirectedTo:"/contacts",children:Object(k.jsx)(oe,{})}),Object(k.jsx)(ne,{path:"/contacts",redirectedTo:"/login",children:Object(k.jsx)(ue,{})})]})})}),Object(k.jsx)(p.a,{})]})}var le,de=n(70),be=n(9),je=n(29),pe=n(69),fe=n.n(pe),he=n(20),Oe=Object(be.c)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1},extraReducers:(le={},Object(he.a)(le,R.d.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(he.a)(le,R.b.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(he.a)(le,R.a.fulfilled,(function(e,t){e.user=t.payload,e.isLoggedIn=!0})),Object(he.a)(le,R.c.fulfilled,(function(e,t){e.user={name:null,email:null},e.token=null,e.isLoggedIn=!1})),le)}).reducer,xe=n(63),ge=Object(de.a)(Object(be.d)({serializableCheck:{ignoredActions:[je.a,je.f,je.b,je.c,je.d,je.e]}})),ve={key:"auth",storage:fe.a,whitelist:["token"]},me=Object(be.a)({reducer:{contacts:xe.a,auth:Object(je.g)(ve,Oe)},middleware:ge,devtools:!1}),we=Object(je.h)(me);s.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(d.a,{store:me,children:Object(k.jsx)(b.a,{loading:null,persistor:we,children:Object(k.jsx)(l.a,{children:Object(k.jsx)(se,{})})})})}),document.getElementById("root"))},26:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(11),c=n.n(r),a=n(28),i=n(22),o=n.n(i),u=n(9),s=n(12);n(42);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var l=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},d=function(){o.a.defaults.headers.common.Authorization=""},b=Object(u.b)("auth/register",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/users/signup",t);case 3:return r=e.sent,a=r.data,l(a.token),s.b.warning("You have successfully registered"),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),s.b.warning("Such an account already exists"),e.abrupt("return",n.rejectWithValue(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),j=Object(u.b)("auth/logim",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("users/login",t);case 3:return r=e.sent,a=r.data,l(a.token),s.b.warning("You are logged into your account"),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),s.b.warning("Something went wrong! Verify your the credentials"),e.abrupt("return",n.rejectWithValue(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(u.b)("auth/logout",function(){var e=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,d(),s.b.warning("You are logged out of your account"),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),s.b.warning("Something went wrong!"),e.abrupt("return",n.rejectWithValue(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(u.b)("auth/current",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState(),null!==(a=r.auth.token)){e.next=4;break}return e.abrupt("return",n.rejectWithValue());case 4:return l(a),e.prev=5,e.next=8,o.a.get("users/current");case 8:return i=e.sent,u=i.data,e.abrupt("return",u);case 13:return e.prev=13,e.t0=e.catch(5),s.b.warning("Could not identify you"),e.abrupt("return",n.rejectWithValue(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}())},39:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n(11),c=n.n(r),a=n(28),i=n(22),o=n.n(i),u=n(9),s=n(12),l=(n(42),Object(u.b)("contacts/getcontacts",Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/contacts");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),s.b.error("You don't have any contacts saved yet");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))))),d=Object(u.b)("contacts/addcontact",function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/contacts",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),s.b.error("Failed to add a contact");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),b=Object(u.b)("contacts/removecontact",function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.delete("/contacts/".concat(t));case 3:return e.abrupt("return",t);case 6:e.prev=6,e.t0=e.catch(0),s.b.error("Failed to delete a contact");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())},51:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return O}));var r,c,a,i,o,u,s,l=n(3),d=n(5),b=d.a.main(r||(r=Object(l.a)(["\ntext-align: center;\nmargin: 20px auto;\npadding: 20px;\nbackground-color: #fff;\nwidth: 1000px;\n"]))),j=d.a.h1(c||(c=Object(l.a)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nmargin: 0 auto;\npadding-top: 15px;\npadding-bottom: 15px;\ncolor: #04125e;\n"]))),p=d.a.div(a||(a=Object(l.a)(["\n"]))),f=(d.a.img(i||(i=Object(l.a)([""]))),d.a.p(o||(o=Object(l.a)(["\nfont-weight: 600;\nmargin-bottom: 20px;\n"])))),h=d.a.div(u||(u=Object(l.a)(["\n"]))),O=d.a.div(s||(s=Object(l.a)(["\ndisplay: flex;\njustify-content: space-between;\n"])))},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r,c=n(20),a=n(9),i=n(39),o=Object(a.c)({name:"contacts",initialState:{items:[],filter:""},reducers:{filterContacts:function(e,t){e.filter=t.payload}},extraReducers:(r={},Object(c.a)(r,i.b.fulfilled,(function(e,t){e.items=t.payload})),Object(c.a)(r,i.a.fulfilled,(function(e,t){e.items.push(t.payload)})),Object(c.a)(r,i.c.fulfilled,(function(e,t){e.items=e.items.filter((function(e){return e.id!==t.payload}))})),r)});t.a=o.reducer;var u=o.actions.filterContacts},79:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.77e29cc9.chunk.js.map